# 概述
1. 树中有红和黑两种类型节点，要么红色要么黑色。
2. 根节点是黑节点。
3. 所有的叶子节点(叶子节点都是NULL)是黑节点 
4. 红节点的子节点都是黑色节点。
5. 从根节点到每个叶子节点的路径上黑节点数量相同。
6. 不会有两个连续的红色节点。


## 插入节点的规则以及
1. 插入的节点先默认为红节点(红色表示为：0，黑色表示为：1)，插入之后再重新染色和平衡结构。

## 节点染色 & rebalance
1. 自底部向上遍历（刚刚插入的node节点）
2. 如果没有父节点（本节点为root节点），则将本节点染色为黑色后，终结流程。
3. 如果父节点为黑色，终结流程。  
4. 否则将根据情况进行节点重新染色以及旋转


## 
### CASE 1: 
如果父节点与叔叔节点是红色（爷爷节点是黑色），则将父亲节点，叔叔节点与爷爷节点的颜色翻转，然后将当前节点切换到爷爷节点后继续遍历。  

```text
    G       |     G     |     G     |     G     (黑色)  
   / \      |    / \    |    / \    |    / \            
  p   u     |   u   p   |   u   p   |   u   p   (红色)  
 /          |      /    |    \      |        \          
n           |     n     |     n     |         n         

                        |   
                        V   

    g       |     g     |     g     |     g     (红色) 
   / \      |    / \    |    / \    |    / \           
  P   U     |   U   P   |   U   P   |   U   P   (黑色) 
 /          |      /    |    \      |        \         
n           |     n     |     n     |         n        
```
### CASE 2:   
父节点是爷爷节点的左节点，并且当前节点是父节点的右节点，叔叔节点是黑色节点，则将父节点左旋，并将n节点原来的左节点（旋转之后p节点的右节点）染色为黑色。  

或者

父节点是爷爷节点的右节点，并且当前节点是父节点的左节点，同样，叔叔节点是黑色节点，则将父节点右旋，并将n节点原来的右节点（旋转之后p节点的左节点）染色为黑色。
虽然旋转父节点之后，这时仍然违反规则4，但将在步骤Case 3中得到解决。 

```text
    G       |     G      
   / \      |    / \     
  p   U     |   U   p    
   \        |      /     
    n       |     n      
                         
            |            
            V            
                         
    G       |     G      
   / \      |    / \     
  n   U     |   U   n    
 /          |        \   
p           |         p  
```
### CASE 3: 
父节点是爷爷节点的左节点，并且当前节点是父节点的左节点，叔叔节点是黑节点，则将爷爷节点右旋，并将其染色为红色。  

或者

父节点是爷爷节点的右节点，并且当前节点是父节点的右节点，叔叔节点是黑节点，则将爷爷节点左旋，并将其染色为红色。  

```text
    G       |     G     
   / \      |    / \    
  p   U     |   U   p   
 /          |        \  
n           |         n 
                        
            |           
            v           
                        
    P       |     P     
   / \      |    / \    
  n   g     |   g   n   
       \    |  /        
        U   | U         
```
