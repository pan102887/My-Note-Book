# 什么是CQRS
CQRS的全称是 Command Query Responsibility Segregation(命令、查询职责分离)，它是**一种将数据的读取和更新操作分离的模式**。CQRS可以使应用程序提升性能，以及提高可扩展性和安全性。

这里提到的命令和查询，它们之间最显著的特点或者差别是：命令是有副作用的，它会改变系统状态。而查询是无副作用的，只会读取系统中的数据。在项目中，通常使用不同的模块实现这两部分功能。并且如果存在依赖关系，通常是查询模块依赖命令模块。

# 上下文和问题
查询与命令在存储上可以共享，但也可以分离，设置异构。但如果业务场景比较复杂，应用程序会执行大量不同的查询，返回具有不同形态的DTO，对象的映射可能会变得很复杂（整车的订单相关查询以及订单状态映射算一个）。

> |**Command**|
> |-------|
> |对象少|
> |对象间形成树或者图结构|
> |避免数据的冗余|
> |ACID比较重要|
> 
> |**Query**|
> |-----|
> |对象多|
> |对象之间关联只有查询用的|
> |大量冗余以提升查询性能|
> |ACID不重要|

