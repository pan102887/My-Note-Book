- [1. 模型改动](#1-模型改动)
  - [1.1. spu_detail（商品详情）](#11-spu_detail商品详情)
    - [1.1.1. 新增字段](#111-新增字段)
  - [1.2. store_decorate (店铺装修实体)](#12-store_decorate-店铺装修实体)
    - [1.2.1. 新增字段](#121-新增字段)
- [2. 相关接口改动](#2-相关接口改动)
  - [2.1. 商品相关（SpuDetail）- 管理后台](#21-商品相关spudetail--管理后台)
  - [2.2. 商品详情 - C 端](#22-商品详情---c-端)
  - [2.3. 店铺装修相关-管理后台](#23-店铺装修相关-管理后台)
  - [2.4. 店铺页面-C端](#24-店铺页面-c端)
# 1. 模型改动
## 1.1. spu_detail（商品详情）
### 1.1.1. 新增字段
1. 商城类型{ mallType | 1 精品商城，2 车商城 }
```sql
alter table `spu_detail` add `mall_type` tinyint(4) not null default 0 comment '商城类型| 0 精品商城， 1 车商城';
alter table `spu_detail_snapshot` add `mall_type` tinyint(4) not null default 0 comment '商城类型| 0 精品商城， 1 车商城';

```
  
## 1.2. store_decorate (店铺装修实体)
### 1.2.1. 新增字段
1. 商城类型{ mallType | 1:精品商城， 2:车商城 }
```sql
alter table `store_decorate` add `mall_type` tinyint(4) not null default 0 comment '商城类型| 0 精品商城， 1 车商城';
```

# 2. 相关接口改动
## 2.1. 商品相关（SpuDetail）- 管理后台
1. 创建商品接口`"/v1/api/goods/publish"`  
   - [x] `GoodsCreateParam` 新增字段
   - [x] `SpuDetail` 新增字段
   - [x] `SpuDetailSnapshot` 新增字段
   - [x] `GoodsServiceImpl.getSpuDetailFromGoodsCreateParam()` 增加新字段的处理逻辑  
   - [x] `SpuDetailDto` 增加新字段

2. 更新商品接口`"/v1/api/goods/update"`  
   - [x] `GoodsServiceImpl.getSpuDetailFromGoodsUpdateParam()` 增加新字段的处理逻辑  
## 2.2. 商品详情 - C 端
1.  查询商品详情`/store/info/{storeId}/goods/info`
   - [x] `GoodsDetailVo` 增加新字段  
   - [x] `SpuDetailQueryResultDto` 新增字段  
   - [x] `TradeVoConverter.toGoodsDetailVo` 增加新字段的处理  
   以上接口传入参数中，在spu层级新增`mallType`字段, 整数类型

## 2.3. 店铺装修相关-管理后台
1. 修改页面`/v1/api/store/decorate/updateScenePage`  
   - [x] `StoreDecoratePageUpdateParam` 更新入参新增字段
   - [x] `StoreDecorateConverter.updateScenePage()`增加字段插入逻辑
   - 
2. 新增装修页面`/v1/api/store/decorate/addScenePage`  
   - [x] `StoreDecoratePageRspDto` 新增页面返回结果增加新字段
   - [x] `StoreDecoratePageAddParam` 新增入参增加新字段  
   - [x] `StoreDecorateServiceImpl.addScenePage()` 增加新字段处理逻辑
   - [x] `StoreDecorateServiceImpl.saveNewPage()` 增加新字段处理逻辑
3. 页面查询接口`/v1/api/store/decorate/getScenePage`  
   - [x] `StoreDecorateConverter.toStoreDecoratePageRspDto()` entity -> dto 增加新字段处理逻辑  
   上述接口中同样新增`mallType`字段，与商品创建同理

## 2.4. 店铺页面-C端
1. 预览结果页面`/v1/api/store/preview`
   - [x] ViewVo 增加新字段
2. 店铺页面查询`/v1/api/store/view`